(function(){jQuery.fn.tips=function(options){var tipBox;var timer;var currentTipWidth,currentTipHeight;var opts=jQuery.extend({maxTitleChars:30,showDelay:100,hideDelay:100,timeout:0,className:'tool',offsets:{'x':16,'y':16},tipType:2},options||{});if(!tipBox){tipBox=jQuery("<div/>").addClass(opts.className+"-tip").css({'position':'absolute','top':'0','left':'0','display':'none'}).html("<div/>").appendTo(jQuery("body"))}this.each(function(){this.tipData={};if(this.tagName.toLowerCase()=="a"&&this.href){this.tipData.title=this.href.replace(/http:\/\/|https:\/\//,"")};if(this.title){var dual=this.title.split("::");if(dual.length>1){this.tipData.title=jQuery.trim(dual[0]);this.tipData.text=jQuery.trim(dual[1])}else{this.tipData.text=this.title}jQuery(this).removeAttr("title")}if(this.tipData.title&&this.tipData.title.length>opts.maxTitleChars){this.tipData.title=this.tipData.title.substr(0,opts.maxTitleChars-1)+"&hellip;"}jQuery(this).mouseover(function(evt){start(this);if(opts.tipType==0){position(this)}else{locate(evt)}});if(opts.tipType==2){jQuery(this).mousemove(locate)}jQuery(this).mouseout(end).mousedown(end)});function start(el){var wrapper=tipBox.children().empty();var tipData=el.tipData;if(tipData.title){jQuery("<span/>").html(tipData.title).wrap("<div class='"+opts.className+"-title'></div>").parent().appendTo(wrapper)}if(tipData.text){jQuery("<span/>").html(tipData.text).wrap("<div class='"+opts.className+"-text'></div>").parent().appendTo(wrapper)}currentTipWidth=tipBox.width();currentTipHeight=tipBox.height();window.clearTimeout(timer);timer=window.setTimeout(show,opts.showDelay)}function end(){window.clearTimeout(timer);timer=window.setTimeout(hide,opts.hideDelay)}function position(el){var offset=jQuery(el).offset();tipBox.css({left:offset.left+opts.offsets.x,top:offset.top+opts.offsets.y})}function locate(evt){var left,top;var pageScrollLeft=document.documentElement.scrollLeft||document.body.scrollLeft;var pageScrollTop=document.documentElement.scrollTop||document.body.scrollTop;left=evt.pageX+opts.offsets.x;if(left+currentTipWidth-pageScrollLeft>jQuery(window).width()){left=evt.pageX-opts.offsets.x-tipBox.width()}top=evt.pageY+opts.offsets.y;if(top+currentTipHeight-pageScrollTop>jQuery(window).height()){top=evt.pageY-opts.offsets.y-tipBox.heigth()}tipBox.css({left:left,top:top})}function show(){opts.timeout&&(timer=window.setTimeout(hide,opts.timeout));tipBox.show()}function hide(){tipBox.hide()}return this}})(jQuery);